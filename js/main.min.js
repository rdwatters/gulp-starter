"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.indexOf(t,e)===e}),String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var i=n.indexOf(t,e);return i!==-1&&i===e}),"document"in self&&!("classList"in document.createElement("_"))&&!function(t){if("Element"in t){var e="classList",n="prototype",i=t.Element[n],r=Object,s=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},u=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},h=function(t){for(var e=s.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,r=n.length;i<r;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},l=h[n]=[],c=function(){return new h(this)};if(a[n]=Error[n],l.item=function(t){return this[t]||null},l.contains=function(t){return t+="",u(this,t)!==-1},l.add=function(){var t,e=arguments,n=0,i=e.length,r=!1;do t=e[n]+"",u(this,t)===-1&&(this.push(t),r=!0);while(++n<i);r&&this._updateClassName()},l.remove=function(){var t,e=arguments,n=0,i=e.length,r=!1;do{t=e[n]+"";var s=u(this,t);s!==-1&&(this.splice(s,1),r=!0)}while(++n<i);r&&this._updateClassName()},l.toggle=function(t,e){t+="";var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),!n},l.toString=function(){return this.join(" ")},r.defineProperty){var f={get:c,enumerable:!0,configurable:!0};try{r.defineProperty(i,e,f)}catch(p){p.number===-2146823252&&(f.enumerable=!1,r.defineProperty(i,e,f))}}else r[n].__defineGetter__&&i.__defineGetter__(e,c)}}(self);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJwb2x5ZmlsbHMuanMiXSwibmFtZXMiOlsiU3RyaW5nIiwicHJvdG90eXBlIiwic3RhcnRzV2l0aCIsInNlYXJjaFN0cmluZyIsInBvc2l0aW9uIiwidGhpcyIsImluZGV4T2YiLCJpbmNsdWRlcyIsImFwcGx5IiwiYXJndW1lbnRzIiwiZW5kc1dpdGgiLCJzdWJqZWN0U3RyaW5nIiwidG9TdHJpbmciLCJpc0Zpbml0ZSIsIk1hdGgiLCJmbG9vciIsImxlbmd0aCIsImxhc3RJbmRleCIsInNlbGYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJqIiwiYSIsImYiLCJtIiwiRWxlbWVudCIsImIiLCJPYmplY3QiLCJrIiwidHJpbSIsInJlcGxhY2UiLCJjIiwiQXJyYXkiLCJxIiwicCIsIm8iLCJuIiwibmFtZSIsImNvZGUiLCJET01FeGNlcHRpb24iLCJtZXNzYWdlIiwiZyIsInRlc3QiLCJjYWxsIiwiZCIsInMiLCJyIiwiZ2V0QXR0cmlidXRlIiwic3BsaXQiLCJwdXNoIiwiX3VwZGF0ZUNsYXNzTmFtZSIsInNldEF0dHJpYnV0ZSIsImUiLCJpIiwiRXJyb3IiLCJpdGVtIiwiY29udGFpbnMiLCJhZGQiLCJyZW1vdmUiLCJ0Iiwic3BsaWNlIiwidG9nZ2xlIiwiam9pbiIsImRlZmluZVByb3BlcnR5IiwibCIsImdldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJoIiwibnVtYmVyIiwiX19kZWZpbmVHZXR0ZXJfXyJdLCJtYXBwaW5ncyI6IkFBQUEsWUNDQUEsUUFBQUMsVUFBQUMsYUFDQUYsT0FBQUMsVUFBQUMsV0FBQSxTQUFBQyxFQUFBQyxHQUVBLE1BREFBLEdBQUFBLEdBQUEsRUFDQUMsS0FBQUMsUUFBQUgsRUFBQUMsS0FBQUEsSUFHQUosT0FBQUMsVUFBQU0sV0FDQVAsT0FBQUMsVUFBQU0sU0FBQSxXQUNBLE1BQUFQLFFBQUFDLFVBQUFLLFFBQUFFLE1BQUFILEtBQUFJLGtCQUdBVCxPQUFBQyxVQUFBUyxXQUNB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QUFBLFdBQ0EsTUFBQVAsTUFBQXlELEtBQUEsTUFFQXBDLEVBQUFxQyxlQUFBLENBQ0EsR0FBQUMsSUFDQUMsSUFBQVosRUFDQWEsWUFBQSxFQUNBQyxjQUFBLEVBRUEsS0FDQXpDLEVBQUFxQyxlQUFBdkMsRUFBQUYsRUFBQTBDLEdBQ0EsTUFBQUksR0FDQUEsRUFBQUMsdUJBQ0FMLEVBQUFFLFlBQUEsRUFDQXhDLEVBQUFxQyxlQUFBdkMsRUFBQUYsRUFBQTBDLFNBSUF0QyxHQUFBSCxHQUFBK0Msa0JBQ0E5QyxFQUFBOEMsaUJBQUFoRCxFQUFBK0IsS0FHQW5DIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vL2VzMjAxNSBleHRyYSBzdHJpbmcgbWV0aG9kcyAqbm90KiB0cmFuc3BpbGVkIHdpdGggQmFiZWxcbmlmICghU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKSB7XG4gICAgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoID0gZnVuY3Rpb24gKHNlYXJjaFN0cmluZywgcG9zaXRpb24pIHtcbiAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiB8fCAwO1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pID09PSBwb3NpdGlvbjtcbiAgICB9O1xufVxuaWYgKCFTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzKSB7XG4gICAgU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgIHJldHVybiBTdHJpbmcucHJvdG90eXBlLmluZGV4T2YuYXBwbHkodGhpcywgYXJndW1lbnRzKSAhPT0gLTE7XG4gICAgfTtcbn1cbmlmICghU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCkge1xuICAgIFN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGggPSBmdW5jdGlvbiAoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xuICAgICAgICB2YXIgc3ViamVjdFN0cmluZyA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBwb3NpdGlvbiAhPT0gJ251bWJlcicgfHwgIWlzRmluaXRlKHBvc2l0aW9uKSB8fCBNYXRoLmZsb29yKHBvc2l0aW9uKSAhPT0gcG9zaXRpb24gfHwgcG9zaXRpb24gPiBzdWJqZWN0U3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBzdWJqZWN0U3RyaW5nLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBwb3NpdGlvbiAtPSBzZWFyY2hTdHJpbmcubGVuZ3RoO1xuICAgICAgICB2YXIgbGFzdEluZGV4ID0gc3ViamVjdFN0cmluZy5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pO1xuICAgICAgICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xuICAgIH07XG59XG4vL2h0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9jbGFzc0xpc3QuanMvYmxvYi9tYXN0ZXIvY2xhc3NMaXN0LmpzXG5cbmlmIChcImRvY3VtZW50XCIgaW4gc2VsZiAmJiAhKFwiY2xhc3NMaXN0XCIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIikpKSB7XG4gICAgKGZ1bmN0aW9uIChqKSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgICAgIGlmICghKFwiRWxlbWVudFwiIGluIGopKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGEgPSBcImNsYXNzTGlzdFwiLFxuICAgICAgICAgICAgZiA9IFwicHJvdG90eXBlXCIsXG4gICAgICAgICAgICBtID0gai5FbGVtZW50W2ZdLFxuICAgICAgICAgICAgYiA9IE9iamVjdCxcbiAgICAgICAgICAgIGsgPSBTdHJpbmdbZl0udHJpbSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgICAgIGMgPSBBcnJheVtmXS5pbmRleE9mIHx8IGZ1bmN0aW9uIChxKSB7XG4gICAgICAgICAgICB2YXIgcCA9IDAsXG4gICAgICAgICAgICAgICAgbyA9IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICg7IHAgPCBvOyBwKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocCBpbiB0aGlzICYmIHRoaXNbcF0gPT09IHEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9LFxuICAgICAgICAgICAgbiA9IGZ1bmN0aW9uIG4obywgcCkge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gbztcbiAgICAgICAgICAgIHRoaXMuY29kZSA9IERPTUV4Y2VwdGlvbltvXTtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IHA7XG4gICAgICAgIH0sXG4gICAgICAgICAgICBnID0gZnVuY3Rpb24gZyhwLCBvKSB7XG4gICAgICAgICAgICBpZiAobyA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBuKFwiU1lOVEFYX0VSUlwiLCBcIkFuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgvXFxzLy50ZXN0KG8pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IG4oXCJJTlZBTElEX0NIQVJBQ1RFUl9FUlJcIiwgXCJTdHJpbmcgY29udGFpbnMgYW4gaW52YWxpZCBjaGFyYWN0ZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYy5jYWxsKHAsIG8pO1xuICAgICAgICB9LFxuICAgICAgICAgICAgZCA9IGZ1bmN0aW9uIGQocykge1xuICAgICAgICAgICAgdmFyIHIgPSBrLmNhbGwocy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgICBxID0gciA/IHIuc3BsaXQoL1xccysvKSA6IFtdLFxuICAgICAgICAgICAgICAgIHAgPSAwLFxuICAgICAgICAgICAgICAgIG8gPSBxLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoOyBwIDwgbzsgcCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoKHFbcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2xhc3NOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdGhpcy50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgICAgICBlID0gZFtmXSA9IFtdLFxuICAgICAgICAgICAgaSA9IGZ1bmN0aW9uIGkoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGQodGhpcyk7XG4gICAgICAgIH07XG4gICAgICAgIG5bZl0gPSBFcnJvcltmXTtcbiAgICAgICAgZS5pdGVtID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW29dIHx8IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIGUuY29udGFpbnMgPSBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgbyArPSBcIlwiO1xuICAgICAgICAgICAgcmV0dXJuIGcodGhpcywgbykgIT09IC0xO1xuICAgICAgICB9O1xuICAgICAgICBlLmFkZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgIHIgPSAwLFxuICAgICAgICAgICAgICAgIHAgPSBzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBxLFxuICAgICAgICAgICAgICAgIG8gPSBmYWxzZTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBxID0gc1tyXSArIFwiXCI7XG4gICAgICAgICAgICAgICAgaWYgKGcodGhpcywgcSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaChxKTtcbiAgICAgICAgICAgICAgICAgICAgbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoKytyIDwgcCk7XG4gICAgICAgICAgICBpZiAobykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0ID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgIHMgPSAwLFxuICAgICAgICAgICAgICAgIHAgPSB0Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICByLFxuICAgICAgICAgICAgICAgIG8gPSBmYWxzZTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICByID0gdFtzXSArIFwiXCI7XG4gICAgICAgICAgICAgICAgdmFyIHEgPSBnKHRoaXMsIHIpO1xuICAgICAgICAgICAgICAgIGlmIChxICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwbGljZShxLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoKytzIDwgcCk7XG4gICAgICAgICAgICBpZiAobykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChwLCBxKSB7XG4gICAgICAgICAgICBwICs9IFwiXCI7XG4gICAgICAgICAgICB2YXIgbyA9IHRoaXMuY29udGFpbnMocCksXG4gICAgICAgICAgICAgICAgciA9IG8gPyBxICE9PSB0cnVlICYmIFwicmVtb3ZlXCIgOiBxICE9PSBmYWxzZSAmJiBcImFkZFwiO1xuICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3JdKHApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICFvO1xuICAgICAgICB9O1xuICAgICAgICBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuam9pbihcIiBcIik7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChiLmRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgICAgICB2YXIgbCA9IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGksXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGIuZGVmaW5lUHJvcGVydHkobSwgYSwgbCk7XG4gICAgICAgICAgICB9IGNhdGNoIChoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGgubnVtYmVyID09PSAtMjE0NjgyMzI1Mikge1xuICAgICAgICAgICAgICAgICAgICBsLmVudW1lcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYi5kZWZpbmVQcm9wZXJ0eShtLCBhLCBsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYltmXS5fX2RlZmluZUdldHRlcl9fKSB7XG4gICAgICAgICAgICAgICAgbS5fX2RlZmluZUdldHRlcl9fKGEsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSkoc2VsZik7XG59OyIsIi8vZXMyMDE1IGV4dHJhIHN0cmluZyBtZXRob2RzICpub3QqIHRyYW5zcGlsZWQgd2l0aCBCYWJlbFxuaWYgKCFTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGgpIHtcbiAgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoID0gZnVuY3Rpb24oc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xuICAgIHBvc2l0aW9uID0gcG9zaXRpb24gfHwgMDtcbiAgICByZXR1cm4gdGhpcy5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pID09PSBwb3NpdGlvbjtcbiAgfTtcbn1cbmlmICghU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcykge1xuICBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24oKSB7J3VzZSBzdHJpY3QnO1xuICAgIHJldHVybiBTdHJpbmcucHJvdG90eXBlLmluZGV4T2YuYXBwbHkodGhpcywgYXJndW1lbnRzKSAhPT0gLTE7XG4gIH07XG59XG5pZiAoIVN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGgpIHtcbiAgU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCA9IGZ1bmN0aW9uKHNlYXJjaFN0cmluZywgcG9zaXRpb24pIHtcbiAgICAgIHZhciBzdWJqZWN0U3RyaW5nID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgaWYgKHR5cGVvZiBwb3NpdGlvbiAhPT0gJ251bWJlcicgfHwgIWlzRmluaXRlKHBvc2l0aW9uKSB8fCBNYXRoLmZsb29yKHBvc2l0aW9uKSAhPT0gcG9zaXRpb24gfHwgcG9zaXRpb24gPiBzdWJqZWN0U3RyaW5nLmxlbmd0aCkge1xuICAgICAgICBwb3NpdGlvbiA9IHN1YmplY3RTdHJpbmcubGVuZ3RoO1xuICAgICAgfVxuICAgICAgcG9zaXRpb24gLT0gc2VhcmNoU3RyaW5nLmxlbmd0aDtcbiAgICAgIHZhciBsYXN0SW5kZXggPSBzdWJqZWN0U3RyaW5nLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbik7XG4gICAgICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xuICB9O1xufVxuLy9odHRwOi8vcHVybC5lbGlncmV5LmNvbS9naXRodWIvY2xhc3NMaXN0LmpzL2Jsb2IvbWFzdGVyL2NsYXNzTGlzdC5qc1xuXG5pZiAoXCJkb2N1bWVudFwiIGluIHNlbGYgJiYgIShcImNsYXNzTGlzdFwiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJfXCIpKSkge1xuICAgIChmdW5jdGlvbihqKSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICBpZiAoIShcIkVsZW1lbnRcIiBpbiBqKSkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGEgPSBcImNsYXNzTGlzdFwiLFxuICAgICAgICAgICAgZiA9IFwicHJvdG90eXBlXCIsXG4gICAgICAgICAgICBtID0gai5FbGVtZW50W2ZdLFxuICAgICAgICAgICAgYiA9IE9iamVjdCxcbiAgICAgICAgICAgIGsgPSBTdHJpbmdbZl0udHJpbSB8fCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKVxuICAgICAgICAgICAgfSwgYyA9IEFycmF5W2ZdLmluZGV4T2YgfHwgZnVuY3Rpb24ocSkge1xuICAgICAgICAgICAgICAgIHZhciBwID0gMCxcbiAgICAgICAgICAgICAgICAgICAgbyA9IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoOyBwIDwgbzsgcCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwIGluIHRoaXMgJiYgdGhpc1twXSA9PT0gcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgICAgIH0sIG4gPSBmdW5jdGlvbihvLCBwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uYW1lID0gbztcbiAgICAgICAgICAgICAgICB0aGlzLmNvZGUgPSBET01FeGNlcHRpb25bb107XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gcFxuICAgICAgICAgICAgfSwgZyA9IGZ1bmN0aW9uKHAsIG8pIHtcbiAgICAgICAgICAgICAgICBpZiAobyA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgbihcIlNZTlRBWF9FUlJcIiwgXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWRcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKC9cXHMvLnRlc3QobykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IG4oXCJJTlZBTElEX0NIQVJBQ1RFUl9FUlJcIiwgXCJTdHJpbmcgY29udGFpbnMgYW4gaW52YWxpZCBjaGFyYWN0ZXJcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGMuY2FsbChwLCBvKVxuICAgICAgICAgICAgfSwgZCA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgciA9IGsuY2FsbChzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAgICAgICBxID0gciA/IHIuc3BsaXQoL1xccysvKSA6IFtdLFxuICAgICAgICAgICAgICAgICAgICBwID0gMCxcbiAgICAgICAgICAgICAgICAgICAgbyA9IHEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoOyBwIDwgbzsgcCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaChxW3BdKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDbGFzc05hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZSA9IGRbZl0gPSBbXSxcbiAgICAgICAgICAgIGkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGQodGhpcylcbiAgICAgICAgICAgIH07XG4gICAgICAgIG5bZl0gPSBFcnJvcltmXTtcbiAgICAgICAgZS5pdGVtID0gZnVuY3Rpb24obykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbb10gfHwgbnVsbFxuICAgICAgICB9O1xuICAgICAgICBlLmNvbnRhaW5zID0gZnVuY3Rpb24obykge1xuICAgICAgICAgICAgbyArPSBcIlwiO1xuICAgICAgICAgICAgcmV0dXJuIGcodGhpcywgbykgIT09IC0xXG4gICAgICAgIH07XG4gICAgICAgIGUuYWRkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICByID0gMCxcbiAgICAgICAgICAgICAgICBwID0gcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgcSwgbyA9IGZhbHNlO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHEgPSBzW3JdICsgXCJcIjtcbiAgICAgICAgICAgICAgICBpZiAoZyh0aGlzLCBxKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoKHEpO1xuICAgICAgICAgICAgICAgICAgICBvID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKCsrciA8IHApO1xuICAgICAgICAgICAgaWYgKG8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDbGFzc05hbWUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBlLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHQgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgcyA9IDAsXG4gICAgICAgICAgICAgICAgcCA9IHQubGVuZ3RoLFxuICAgICAgICAgICAgICAgIHIsIG8gPSBmYWxzZTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICByID0gdFtzXSArIFwiXCI7XG4gICAgICAgICAgICAgICAgdmFyIHEgPSBnKHRoaXMsIHIpO1xuICAgICAgICAgICAgICAgIGlmIChxICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwbGljZShxLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgbyA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlICgrK3MgPCBwKTtcbiAgICAgICAgICAgIGlmIChvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2xhc3NOYW1lKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZS50b2dnbGUgPSBmdW5jdGlvbihwLCBxKSB7XG4gICAgICAgICAgICBwICs9IFwiXCI7XG4gICAgICAgICAgICB2YXIgbyA9IHRoaXMuY29udGFpbnMocCksXG4gICAgICAgICAgICAgICAgciA9IG8gPyBxICE9PSB0cnVlICYmIFwicmVtb3ZlXCIgOiBxICE9PSBmYWxzZSAmJiBcImFkZFwiO1xuICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3JdKHApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gIW9cbiAgICAgICAgfTtcbiAgICAgICAgZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuam9pbihcIiBcIilcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGIuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgICAgIHZhciBsID0ge1xuICAgICAgICAgICAgICAgIGdldDogaSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYi5kZWZpbmVQcm9wZXJ0eShtLCBhLCBsKVxuICAgICAgICAgICAgfSBjYXRjaCAoaCkge1xuICAgICAgICAgICAgICAgIGlmIChoLm51bWJlciA9PT0gLTIxNDY4MjMyNTIpIHtcbiAgICAgICAgICAgICAgICAgICAgbC5lbnVtZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGIuZGVmaW5lUHJvcGVydHkobSwgYSwgbClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYltmXS5fX2RlZmluZUdldHRlcl9fKSB7XG4gICAgICAgICAgICAgICAgbS5fX2RlZmluZUdldHRlcl9fKGEsIGkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KHNlbGYpKVxufTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
